# Sumai Plugin Test Suite

This directory contains the test suite for the Sumai WordPress plugin, which automatically fetches and summarizes articles from RSS feeds using OpenAI.

## Test Structure

The test suite is organized into the following directories:

- `integration/` - Integration tests that verify the Action Scheduler and other components work correctly together
- `unit/` - Unit tests for individual functions and classes (add your unit tests here)
- `fixtures/` - Test data and mock objects for tests
- `results/` - HTML test reports generated by the test runner

## Running Tests

There are two ways to run the tests:

### Using PowerShell (Recommended)

1. Open PowerShell in the plugin directory
2. Run the test script:
   ```
   .\test\run-tests.ps1
   ```
3. This will execute all tests and automatically open the HTML report in your default browser

### Using PHP Directly

1. Open a terminal in the plugin directory
2. Run the PHP test runner:
   ```
   php test\run-tests.php
   ```
3. This will execute all tests and generate an HTML report in the `test\results` directory
4. Open the HTML report manually to view detailed results

## Test Reports

Test reports are stored in the `results/` directory with a timestamp in the filename. The reports include:

- Summary of all test results
- Pass rate and execution time
- Detailed output from each test category
- Full console log for debugging

## Adding New Tests

### Integration Tests

Add new integration test files to the `integration/` directory.

### Unit Tests

Add new unit test files to the `unit/` directory, following the WordPress coding standards.

## Maintenance

- Test reports older than 30 days can be safely deleted
- Always run tests before deploying to production
- If tests fail, check the HTML report for details on the specific failure
